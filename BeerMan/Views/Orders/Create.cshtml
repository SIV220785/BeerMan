@model  List<BeerMan.Models.Food>


<form action="/Orders/Create" method="post">
    <div class="row">

        @foreach (var item in Model)
        {
        <div class="col-lg-2 col-md-2 col-sm-2">
            <table>
                <tr>
                    <td style="text-align:center">
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                </tr>
                <tr>
                    <td style="text-align:center">
                        @Html.Raw("<img style='width:80px; height:60px;' src=\"data:image/jpeg;base64,"
                                + Convert.ToBase64String(item.Photo.Image) + "\" />")
                    </td>
                </tr>
                <tr>
                    <td style="text-align:center">
                        @Html.DisplayFor(modelItem => item.Cost) р
                    </td>
                </tr>
            </table>
            <p> </p>
            <input style="width:100px" id="countProduct_@item.Id" placeholder="Количество" type="text" value="" name="count" disabled="disabled" />
            <br>
            <input id="boxProduct_@item.Id" type="checkbox" value="@item.Id" name="pizzas" />

        </div>
        }
    </div>
    <input type="submit" value="Add" />
</form>

<script>
    var list = [];
    @foreach (var item in Model)
    {
        @:list.push(@item.Id);       
    };

    for (let val of list) {
        document.getElementById('boxProduct_'+val).onchange = function () {
        if (this.checked) {
                document.getElementById('countProduct_'+val).disabled = false;
            } else {
                document.getElementById('countProduct_'+val).disabled = true;
            }
            };
    }    
</script>